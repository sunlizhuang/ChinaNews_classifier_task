China will boost purchases of US goods and services by $200 billion over two years in exchange for the rolling back of some tariffs under an initial trade deal signed by the world’s two largest economies, defusing an 18-month row that has hit global growth.

Key world stock market indexes climbed to record highs after the deal was signed on Wednesday in Washington, but later stalled on concerns it may not ease trade tensions for long, with numerous thorny issues still unresolved.

While acknowledging the need for further negotiations with China to solve a host of other problems, President Donald Trump hailed the agreement as a win for the US economy and his administration’s trade policies.

“Together, we are righting the wrongs of the past and delivering a future of economic justice and security for American workers, farmers and families,” Trump said in rambling remarks at the White House alongside US and Chinese officials on Wednesday.

Chinese Vice Premier Liu He read a letter from President Xi Jinping in which the Chinese leader praised the deal as a sign the two countries could resolve their differences with dialogue.

“While markets seemed to take this deal as a risk-on signal, we should all be aware that headlines about trade, particularly US China trade, are going to be a constant feature of 2020,” said Hannah Anderson, Global Markets Strategist, J.P. Morgan Asset Management in Hong Kong.

The centerpiece of the deal is a pledge by China to purchase at least an additional $200 billion worth of US farm products and other goods and services over two years, above a baseline of $186 billion in purchases in 2017, the White House said.

Commitments include $54 billion in additional energy purchases, $78 billion in additional manufacturing purchases, $32 billion more in farm products, and $38 billion in services, according to deal documents released by the White House and China’s Finance Ministry.

Liu said Chinese companies would buy $40 billion in US agricultural products annually over the next two years “based on market conditions” which may dictate timing of purchases in any given year.

Beijing had balked at committing to buy set amounts of US farm goods earlier, and has inked new soybean contracts with Brazil since the trade war started.

Liu later said the deal would not affect “third parties’ interests”, apparently in reference to deals made with other suppliers of farm goods.

Chinese companies will import US agricultural goods according to consumers’ need, and demand and supply in the market, Liu told reporters, according to CCTV.

Although the deal could be a boost to US farmers, automakers and heavy equipment manufacturers, some analysts question China’s ability to replace imports from other trading partners with more shipments from the United States.

The deal does not end retaliatory tariffs on American farm exports, makes farmers “increasingly reliant” on Chinese state-controlled purchases, and does not address “big structural changes,” Michelle Erickson-Jones, a wheat farmer and spokeswoman for Farmers for Free Trade, said in a statement.

Oil prices rose, helped by expectations of more Chinese purchases of US oil and gas.

Trump, who has embraced an “America First” policy aimed at rebalancing global trade in favor of US companies and workers, said China had pledged action to confront the problem of pirated or counterfeited goods and said the deal included strong protection of intellectual property rights.

Washington’s insistence on enforcement mechanisms “with real teeth” could tear the deal apart if any tariffs are re-imposed for non-compliance.

US Speaker of the House of Representative Nancy Pelosi said Trump’s China strategy had “inflicted deep, long-term damage to American agriculture and rattled our economy in exchange for more of the promises that Beijing has been breaking for years,” in a statement.

Earlier, top White House economic adviser Larry Kudlow told Fox News the agreement would add 0.5 percentage point to US gross domestic product growth in both 2020 and 2021.

Aviation industry sources said Boeing Co was expected to win a major order for wide-body jets from China, including its 787 or 777-9 models, or a mixture of both.